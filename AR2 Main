loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()

-- // services
local run_service = game:GetService("RunService")
local camera = workspace.CurrentCamera
local localplayer = game:GetService("Players").LocalPlayer
local players = game:GetService("Players")

-- // tables
local settings = {
    location = {enabled = true, color = Color3.new(1, 1, 1), distance = 3000},
    zombie = {enabled = false, color = Color3.new(1, 0, 0), distance = 1000},
    player = {enabled = true, color = Color3.new(255, 0, 0), distance = 2500},
    randomevents = {enabled = true, color = Color3.new(255, 255, 0), distance = 1000},
    vehicles = {enabled = true, color = Color3.new(0, 255, 0), distance = 1500},
    corpses = {enabled = true, color = Color3.new(128, 0, 128), distance = 2500}
}

local location_drawings = {}
local zombie_drawings = {}
local player_drawings = {}
local randomevent_drawings = {}
local vehicle_drawings = {}
local corpses_drawings = {}

-- // functions
function draw(instance, properties)
    local drawing = Drawing.new(instance)
    for i, v in pairs(properties) do
        drawing[i] = v
    end
    return drawing
end

function createtext(type, table)
    if not table[type] then
        table[type] = draw('Text', {Size = 13, Font = 2, Center = true, Outline = true, Color = Color3.new(1, 1, 1)})
    end
end

function removetext(type, table)
    if table[type] then
        table[type]:Remove()
        table[type] = nil
    end
end

-- // location script
for _, v in next, workspace.Locations:GetChildren() do
    createtext(v, location_drawings)
end

-- // zombie script
for _, v in next, workspace.Zombies.Mobs:GetChildren() do
    createtext(v, zombie_drawings)
end

-- // player script
for _, v in next, workspace.Characters:GetChildren() do 
    createtext(v, player_drawings)
end

-- // Random events script 
for _, v in next, workspace.Map.Shared.Randoms:GetChildren() do 
    createtext(v, randomevent_drawings)
end

-- // Vehicle script
for _, v in next, workspace.Vehicles.Spawned:GetChildren() do
    createtext(v, vehicle_drawings)
end

-- // Corpses script
for _, v in next, workspace.Corpses:GetChildren() do
    if v.Name ~= "Zombie" then
        createtext(v, corpses_drawings)
    end
end

-- // add and delete esp indicators
-- zombies
workspace.Zombies.Mobs.ChildAdded:Connect(function(v)
    createtext(v, zombie_drawings)
end)

workspace.Zombies.Mobs.ChildRemoved:Connect(function(v)
    removetext(v, zombie_drawings)
end)

-- players
workspace.Characters.ChildAdded:Connect(function(v)
    createtext(v, player_drawings)
end)

workspace.Characters.ChildRemoved:Connect(function(v)
    removetext(v, player_drawings)
end)

-- events
workspace.Map.Shared.Randoms.ChildAdded:Connect(function(v)
    createtext(v, randomevent_drawings)
end)

workspace.Map.Shared.Randoms.ChildRemoved:Connect(function(v)
    removetext(v, randomevent_drawings)
end)

-- vehicles
workspace.Vehicles.Spawned.ChildAdded:Connect(function(v)
    createtext(v, vehicle_drawings)
end)

workspace.Vehicles.Spawned.ChildRemoved:Connect(function(v)
    removetext(v, vehicle_drawings)
end)

-- corpses
workspace.Corpses.ChildAdded:Connect(function(v)
    createtext(v, corpses_drawings)
end)

workspace.Corpses.ChildRemoved:Connect(function(v)
    removetext(v, corpses_drawings)
end)

local lastUpdateTime = 0
local updateInterval = 0.01

-- // runservice loop
run_service.RenderStepped:Connect(function()
    local currentTime = tick()
    if currentTime - lastUpdateTime >= updateInterval then
        lastUpdateTime = currentTime
        
        for _, v in next, location_drawings do
            local pos, visible = camera:WorldToViewportPoint(_.CFrame.p)
            local mag = math.floor((_.CFrame.p - camera.CFrame.p).magnitude)
            v.Visible = visible and settings.location.enabled and (mag <= settings .location.distance) and localplayer.Character ~= nil or false
            if v.Visible then
                v.Position = Vector2.new(pos.X, pos.Y)
                v.Text = tostring(_.Name .. ' [' .. mag .. ' studs]')
                v.Color = settings.location.color or Color3.new(1, 1, 1)
            end
        end
        
        for _, v in next, zombie_drawings do
            if _:FindFirstChild("HumanoidRootPart") then
                local hrp = _.HumanoidRootPart.Parent.Name
                local pos, visible = camera:WorldToViewportPoint(_.HumanoidRootPart.Position)
                local mag = math.floor((_.HumanoidRootPart.CFrame.p - camera.CFrame.p).magnitude)
                v.Visible = visible and settings.zombie.enabled and (mag <= settings.zombie.distance) and localplayer.Character ~= nil or false
                if v.Visible then
                    v.Position = Vector2.new(pos.X, pos.Y)
                    v.Text = tostring(hrp .. ' [' .. mag .. ' studs]')
                    v.Color = settings.zombie.color or Color3.new(1, 0, 0)
                end
            end
        end
        
        for _, v in next, player_drawings do 
            if _:FindFirstChild("HumanoidRootPart") then
                local pos, visible = camera:WorldToViewportPoint(_.HumanoidRootPart.Position)
                local playerIdentify = _.HumanoidRootPart.Parent
                local playerID = players:GetPlayerFromCharacter(playerIdentify)
                local playername = playerID and playerID.Name or "Opposition"
                local mag = math.floor((_.HumanoidRootPart.CFrame.p - camera.CFrame.p).magnitude)
                v.Visible = visible and settings.player.enabled and (mag <= settings.player.distance) and localplayer.Character ~= nil or false
                if v.Visible and playerID ~= localplayer then
                    v.Position = Vector2.new(pos.X, pos.Y)
                    v.Text = tostring(playername .. ' [' .. mag .. ' studs]')
                    v.Color = settings.player.color or Color3.new(255, 0, 0)
                end
            end
        end
        
        for _, v in next, randomevent_drawings do
            local pos, visible = camera:WorldToViewportPoint(_.Value.Position)
            local mag = math.floor((_.Value.Position - camera.CFrame.p).magnitude)
            v.Visible = visible and settings.randomevents.enabled and (mag <= settings.randomevents.distance) and localplayer.Character ~= nil or false
            if v.Visible then
                v.Position = Vector2.new(pos.X, pos.Y)
                v.Text = tostring(_.Name .. ' [' .. mag .. ' studs]')
                v.Color = settings.randomevents.color or Color3.new(255, 255, 0)
            end
        end
        
        for _, v in next, vehicle_drawings do
            if _:FindFirstChild("Base") then
                local pos, visible = camera:WorldToViewportPoint(_.Base.CFrame.Position)
                local mag = math.floor((_.Base.CFrame.Position - camera.CFrame.p).magnitude)
                v.Visible = visible and settings.vehicles.enabled and (mag <= settings.vehicles.distance) and localplayer.Character ~= nil or false
                if v.Visible then
                    v.Position = Vector2.new(pos.X, pos.Y)
                    v.Text = tostring(_.Name .. ' [' .. mag .. ' studs]')
                    v.Color = settings.vehicles.color or Color3.new(0, 255, 0)
                end
            end
        end
        
        for _, v in next, corpses_drawings do
            if _:FindFirstChild("Head") then
                if _.Name ~= "Zombie" then
                    local pos, visible = camera:WorldToViewportPoint(_.UpperTorso.Position)
                    local mag = math.floor((_.Head.CFrame.Position - camera.CFrame.p).magnitude)
                    v.Visible = visible and settings.corpses.enabled and (mag <= settings.corpses.distance) and localplayer.Character ~= nil or false
                    if v.Visible then
                        v.Position = Vector2.new(pos.X, pos.Y)
                        v.Text = tostring(_.Name .. " corpse [" .. mag .. " studs]")
                        v.Color = settings.corpses.color or Color3.new(128, 0, 128)
                    end
                end
            end
        end
    end
end)

-- soon to be rewriten



-- Settings --
local Settings = {
    Visuals = {
        Esp = false,
        Distance = false,
        Name = false,
        TeamCheck = false,
        Tracer = false,
        FromTracer = "Center"
       },
    Aimbot = {
        AimbotKey = Enum.KeyCode.LeftControl,
        AimbotUsed = false,
        FOVRadius = 150,
        SmoothnessX = 1,
        SmoothnessY = 1,
        TeamCheck = false,
        VisibleCheck = false,
        FOVUsed = false,
        AimbotPart = "Head",
        FOVColor = Color3.fromRGB(255,255,255)
    }
}

-- Services --
local zzWorkspace = game:GetService("Workspace")
local zzRunService = game:GetService("RunService")
local zzUIS = game:GetService("UserInputService")
local zzPlayers = game:GetService("Players")
local zzCamera = zzWorkspace.CurrentCamera
local zzLPlayer = zzPlayers.LocalPlayer
local zzMouse = zzLPlayer:GetMouse()

local FOV = Drawing.new("Circle")
FOV.Color = Settings.Aimbot.FOVColor
FOV.Thickness = 1
FOV.Filled = false
FOV.Radius = Settings.Aimbot.FOVRadius
FOV.Transparency = 1
FOV.Visible = Settings.Aimbot.FOVUsed
FOV.NumSides = 1000

local Main = loadstring(game:HttpGet("https://raw.githubusercontent.com/RealZzHub/Main/main/UILibV2.lua", true))():Main("Universal")

MainTab = Main:NewTab("Main")

MainTab:NewToggle("Aimbot", function(state)
    Settings.Aimbot.AimbotUsed = state
end)
MainTab:NewKeybind("Aimbot Key", Settings.Aimbot.AimbotKey, function(key)
    Settings.Aimbot.AimbotKey = key
end)
MainTab:NewToggle("Team Check", function(state)
    Settings.Aimbot.TeamCheck = state
end)
MainTab:NewSlider("Smoothness X", 1, 20, 0.1, function(v)
    Settings.Aimbot.SmoothnessX = v
end,1)
MainTab:NewSlider("Smoothness Y", 1, 20, 0.1, function(v)
    Settings.Aimbot.SmoothnessY = v 
end,1)
MainTab:NewDropdown("Aim Part", {"Head", "Torso/UpperTorso"}, function(v)
    Settings.Aimbot.AimbotPart = v
end,true)
MainTab:NewToggle("Use FOV", function(state)
    Settings.Aimbot.FOVUsed = state
    FOV.Visible = state
end)
MainTab:NewSlider("FOV Radius", 1,1000,1, function(v)
    Settings.Aimbot.FOVRadius = v
    FOV.Radius = v
end, Settings.Aimbot.FOVRadius)

MainTab:NewLabel("https://realzzhub.xyz")
VisualsTab = Main:NewTab("Visuals")

VisualsTab:NewToggle("Box ESP", function(state)
    Settings.Visuals.Esp = state
end)
VisualsTab:NewToggle("Name ESP", function(state)
    Settings.Visuals.Name = state
end)
VisualsTab:NewToggle("Distance ESP", function(state)
    Settings.Visuals.Distance = state
end)
VisualsTab:NewToggle("Tracer ESP", function(state)
    Settings.Visuals.Tracer = state
end)
VisualsTab:NewDropdown("Tracer Origin", {"Top", "Center", "Bottom", "Mouse"}, function(v)
    Settings.Visuals.FromTracer = v
end,true)
VisualsTab:NewToggle("Team Check", function(state)
    Settings.Visuals.TeamCheck = state
end)

Main:NewConfigTab()

-- Aimbot --
function GetPart(v)
    if Settings.Aimbot.AimbotPart == "Torso/UpperTorso" then
        return tostring(v:FindFirstChild("Torso") or v:FindFirstChild("UpperTorso"))
    end
    return "Head"
end

function IsVisible(Pos, List)
    return #zzCamera:GetPartsObscuringTarget({zzLPlayer.Character.Head.Position, Pos}, List) == 0 and true or false
end

function getTarget()
    local Mag = math.huge
    local plr = nil
    for i, v in pairs(zzPlayers:GetPlayers()) do 
        if v ~= zzLPlayer and v.Character and v.Character:FindFirstChild("HumanoidRootPart") then 
            if not Settings.Aimbot.TeamCheck or Settings.Aimbot.TeamCheck and v.Team ~= zzLPlayer.Team then
                local Pos, onScreen = zzCamera:WorldToScreenPoint(v.Character[GetPart(v.Character)].Position) 
                if onScreen then
                    local Dist = (Vector2.new(zzMouse.X, zzMouse.Y) - Vector2.new(Pos.X, Pos.Y)).Magnitude 
                    if not Settings.Aimbot.FOVUsed and Dist < Mag or Settings.Aimbot.FOVUsed and Dist < Mag and Dist < Settings.Aimbot.FOVRadius then
                        if not Settings.Aimbot.VisibleCheck and true or Settings.Aimbot.VisibleCheck and IsVisible(v.Character[GetPart(v.Character)].Position, {v.Character, zzLPlayer.Character, zzCamera}) then 
                        Mag = Dist
                        plr = v
                        end
                    end
                end
            end
        end
    end
    return plr 
end

local Aiming = false

local AimPlayer = getTarget()
zzRunService.RenderStepped:Connect(function()
    local MousePos = zzUIS:GetMouseLocation()
    FOV.Position = Vector2.new(MousePos.X, MousePos.Y)
    
    AimPlayer = getTarget()
    if Aiming and Settings.Aimbot.AimbotUsed then
        if AimPlayer then
            local Pos = zzCamera:WorldToViewportPoint(AimPlayer.Character[GetPart(AimPlayer.Character)].Position)
            mousemoverel((Pos.X - MousePos.X) / Settings.Aimbot.SmoothnessX, (Pos.Y - MousePos.Y) / Settings.Aimbot.SmoothnessY)
        end
    end
end)

zzUIS.InputEnded:Connect(function(v)
    if v.KeyCode == Settings.Aimbot.AimbotKey or v.UserInputType == Settings.Aimbot.AimbotKey then
        Aiming = false
    end
end)

zzUIS.InputBegan:Connect(function(v)
    if v.KeyCode == Settings.Aimbot.AimbotKey or v.UserInputType == Settings.Aimbot.AimbotKey then
        Aiming = true
    end
end)


-- ESP --
function StartESP(plr) 

    local BoxOutline = Drawing.new("Square")
    BoxOutline.Visible = false
    BoxOutline.Color = Color3.new(0,0,0)
    BoxOutline.Thickness = 4
    BoxOutline.Transparency = 1
    BoxOutline.Filled = false

    local Box = Drawing.new("Square")
    Box.Visible = false
    Box.Color = Color3.new(1,1,1)
    Box.Thickness = 1.5
    Box.Transparency = 1
    Box.Filled = false

    local Name = Drawing.new("Text")
    Name.Visible = false
    Name.Size = 17
    Name.Color = Color3.new(1,1,1)
    Name.Center = true
    Name.Outline = true

    local Dist = Drawing.new("Text")
    Dist.Visible = false
    Dist.Size = 17
    Dist.Color = Color3.new(1,1,1)
    Dist.Center = true
    Dist.Outline = true

    local Tracer = Drawing.new("Line")
    Tracer.Visible = false
    Tracer.Color = Color3.new(1,1,1)
    Tracer.Thickness = 2
    Tracer.Transparency = 1

    local Run
    Run = zzRunService.RenderStepped:Connect(function()
        if plr.Character ~= nil and plr.Character:FindFirstChild("HumanoidRootPart") and zzLPlayer ~= plr and plr then
            if Settings.Visuals.Distance or Settings.Visuals.Name or Settings.Visuals.Esp or Settings.Visuals.Tracer then
           local _, onScreen = zzCamera:WorldToViewportPoint(plr.Character.HumanoidRootPart.Position)


           local HeadPos = zzCamera:WorldToViewportPoint(plr.Character.Head.Position + Vector3.new(0, 0.5, 0))
           local RootPos = zzCamera:WorldToViewportPoint(plr.Character.HumanoidRootPart.Position)
           local LegPos = zzCamera:WorldToViewportPoint(plr.Character.HumanoidRootPart.Position - Vector3.new(0,3,0))

            
           if onScreen then

            Box.Size = Vector2.new(2400 / RootPos.Z, HeadPos.Y - LegPos.Y)
            Box.Position = Vector2.new(RootPos.X - Box.Size.X / 2, RootPos.Y - Box.Size.Y / 2)

            BoxOutline.Size = Vector2.new(2400 / RootPos.Z, HeadPos.Y - LegPos.Y)
            BoxOutline.Position = Vector2.new(RootPos.X - Box.Size.X / 2, RootPos.Y - Box.Size.Y / 2)

            if Settings.Visuals.Name then
                Name.Position = Vector2.new(RootPos.X, (RootPos.Y + Box.Size.Y / 2) - 25)
                Name.Text = plr.Name
            end
            
            if Settings.Visuals.Distance then
                Dist.Position = Vector2.new(RootPos.X, (RootPos.Y - Box.Size.Y / 2) + 25)
                Dist.Text = "["..tostring(math.floor((plr.Character.HumanoidRootPart.Position - zzCamera.CFrame.Position).Magnitude)).." Studs]"
            end

            if Settings.Visuals.Tracer then
                if Settings.Visuals.FromTracer == "Center" then
                Tracer.From = Vector2.new(zzCamera.ViewportSize.X / 2, zzCamera.ViewportSize.Y / 2)
                elseif Settings.Visuals.FromTracer == "Top" then
                    Tracer.From = Vector2.new(zzCamera.ViewportSize.X / 2, 0)
                elseif Settings.Visuals.FromTracer == "Bottom" then
                    Tracer.From = Vector2.new(zzCamera.ViewportSize.X / 2, zzCamera.ViewportSize.Y)
                elseif Settings.Visuals.FromTracer == "Mouse" then
                    Tracer.From = zzUIS:GetMouseLocation()
                end
                Tracer.To = Vector2.new(RootPos.X, RootPos.Y - BoxOutline.Size.Y / 2)
            end
            

            Dist.Color = plr.TeamColor.Color
            Name.Color = plr.TeamColor.Color
            Box.Color = plr.TeamColor.Color
            Tracer.Color = plr.TeamColor.Color
            if Settings.Aimbot.AimbotUsed and plr == AimPlayer then
                Dist.Color = Color3.new(1,1,1)
                Name.Color = Color3.new(1,1,1)
                Box.Color = Color3.new(1,1,1)
                Tracer.Color = Color3.new(1,1,1)
            end

            if Settings.Visuals.TeamCheck and plr.Team == zzLPlayer.Team then
                Box.Visible = false
                Name.Visible = false
                Dist.Visible = false
                BoxOutline.Visible = false
                Tracer.Visible = false
            else
                Dist.Visible = Settings.Visuals.Distance
                Name.Visible = Settings.Visuals.Name
                Box.Visible = Settings.Visuals.Esp
                BoxOutline.Visible = Settings.Visuals.Esp
                Tracer.Visible = Settings.Visuals.Tracer
            end


           else
            Box.Visible = false
            Name.Visible = false
            Dist.Visible = false
            BoxOutline.Visible = false
            Tracer.Visible = false
           end
        
        else
            Box.Visible = false
            Name.Visible = false
            Dist.Visible = false
            BoxOutline.Visible = false
            Tracer.Visible = false
        end

        else
            Box.Visible = false
            Name.Visible = false
            Dist.Visible = false
            BoxOutline.Visible = false
            Tracer.Visible = false
        end
    end)

    local Removing
    Removing = zzPlayers.PlayerRemoving:Connect(function(v)
        if v == plr then
            Removing:Disconnect()
            Run:Disconnect()
            Box:Remove()
            Name:Remove()
            Dist:Remove()
            BoxOutline:Remove()
            Tracer:Remove()
        end
    end)
end

for _,v in pairs(zzPlayers:GetPlayers()) do
    StartESP(v)
end

zzPlayers.PlayerAdded:Connect(function(v)
    StartESP(v)
end)
